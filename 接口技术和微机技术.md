# 接口技术和微机技术

## 可编程并行接口8255A

### 概述

概述8255A是一款广泛用于微处理器系统中的**并行I/O（输入/输出）接口芯片**，由Intel（现在的英特尔）公司设计和制造。该芯片有多个操作模式，可用于控制数字输入和输出，因此在嵌入式系统、计算机外设和工业控制等领域得到了广泛应用。

### 内部结构

![image-20230920151456709](./接口技术和微机技术.assets/image-20230920151456709.png)

(1)三个8位端口A、B、C
**与外设相连，与外设交换数据、控制和状态信息.**
1)端口A和端口B：含一个8位输出锁存器和一个8位输入锁存器。
作为输入或输出端口时，数据均被锁存.
2)端口C：含一个8位数据输出锁存器和一个8位的数据输入缓冲
器.作为输出时能对数据进行锁存，输入时不能锁存.
端口C可以分成两个4位端口，分别可以定义为输入端口或输出端
口，还可定义为控制、状态端口，以配合端口A和端口B工作.
(2)A组和B组
1)**端口A和端口C的高4位(PC7~PC4)构成A组**，由A组控制部
件来对它进行控制。
2)**端口B和端口C的低4位(PC3~PC0)构成B组**，由B组控制部
件对它进行控制.
A组和B组各有一个控制单元，接收来自数据总线送来的控制字，并
根据控制字确定各端口的工作状态和工作方式

### 控制字

1. 8255A通过设置控制字来决定他的工作方式

2. 控制字分为两类：方式控制字和C端口按位置0和置1	

![image-20230920154306127](./接口技术和微机技术.assets/image-20230920154306127.png)

### 工作方式

1. 方式0 基本输入输出方式

   **功能：**方式0 是8255A的最简单工作模式之一，它将8255A的三个8位I/O端口（Port A、Port B 和 Port C）配置为一个单独的8位输出端口。这意味着三个端口同时用于输出，并且可以通过控制字配置输出的数据。

   基本输入输出方式适用于无条件传送和查询方式的接口电路;
   不需要应答联络信号;
   端口A、B和C的高4位及低4位都可以作为输入、输出端口;

2. 方式1 选通输入输出方式
   适用于查询和中断方式的接口电路;
   A和B口可用方式1，但要利用C口提供3个固定的信号，联络外设和CPU。

   **功能：**Mode 1将8255A的三个8位I/O端口分成两个组，Port A 和 Port B 组成一个双向数据总线，而 Port C 独立作为一个输入端口。这允许数据在 Port A 和 Port B 之间双向传输，而 Port C 用于输入

   当A口和B口都为方式1，则C口的6位被占用;C口的其他2位可作为方式0使用。
   A口或B口中，一个为方式1，另一个为方式0，则C口中有3位被占
   用;而其它5位可工作于方式0，设为输入或输出。

3. 方式2 双向选通输入输出方式

   方式2:双向选通传送方式
   适用于双向传送数据的外设
   适用于查询和中断方式的接口电路

## 中断系统和中断控制器8259A

### 1. 中断系统

中断系统的作用

